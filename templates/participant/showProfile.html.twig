{% extends 'base.html.twig' %}

{% block title %} {{ app.user.pseudo }} | {{ parent() }} {% endblock %}

{% block body %}

    <div class="row ml-0 mr-0 mt-5 mb-5">
        <div class="col-sm-4 p-0">
            {% if oParticipant.nomFichierPhoto %}
                <img class="img-fluid w-50 ml-auto mr-auto d-block" src="{{ asset('image/' ~ oParticipant.nomFichierPhoto) }}">
            {% else %}
                <img class="img-fluid w-50 ml-auto mr-auto d-block" src="{{ asset('image/avatar.jpg') }}">
            {% endif %}
        </div>
        <div class="col-sm-4 p-0">
            <h3 class="title">{{ title }}</h3>

            {% if isAuthorizedToModify == true %}

                {{ form_start(form, {'attr': {'class': 'form-inline mt-5'}}) }}

                {{ form_errors(form) }}

                <div class="form-group mb-3 w-100">
                    <label for="participant_pseudo" class="col-form-label col-sm-3 justify-content-start">
                        Pseudo
                    </label>
                    <div class="col-sm-9">
                        {{ form_widget(form.pseudo) }}
                    </div>
                </div>

                <div class="form-group mb-3 w-100">
                    <label for="participant_nom" class="col-form-label col-sm-3 justify-content-start">
                        Nom
                    </label>
                    <div class="col-sm-9">
                        {{ form_widget(form.nom) }}
                    </div>
                </div>

                <div class="form-group mb-3 w-100">
                    <label for="participant_prenom" class="col-form-label col-sm-3 justify-content-start">
                        Prénom
                    </label>
                    <div class="col-sm-9">
                        {{ form_widget(form.prenom) }}
                    </div>
                </div>

                <div class="form-group mb-3 w-100">
                    <label for="participant_telephone" class="col-form-label col-sm-3 justify-content-start">
                        Téléphone
                    </label>
                    <div class="col-sm-9">
                        {{ form_widget(form.telephone) }}
                    </div>
                </div>

                <div class="form-group mb-3 w-100">
                    <label for="participant_mail" class="col-form-label col-sm-3 justify-content-start">
                        Email
                    </label>
                    <div class="col-sm-9">
                        {{ form_widget(form.mail) }}
                    </div>
                </div>

                <div class="form-group mb-3 w-100">
                    <label for="participant_mdp" class="col-form-label col-sm-3 justify-content-start">
                        Mot de passe
                    </label>
                    <div class="col-sm-9">
                        {{ form_widget(form.motDePasse) }}
                    </div>
                </div>

                <div class="form-group mb-3 w-100">
                    <label for="participant_mdp" class="col-form-label col-sm-3 justify-content-start">
                        Nouveau mot de passe
                    </label>
                    <div class="col-sm-9">
                        {{ form_widget(form.newMotDePasse.first) }}
                    </div>
                </div>

                <div class="form-group mb-3 w-100">
                    <label for="participant_mdp_confirm" class="col-form-label col-sm-3 justify-content-start">
                        Confirmation
                    </label>
                    <div class="col-sm-9">
                        {{ form_widget(form.newMotDePasse.second) }}
                    </div>
                </div>

                <div class="form-group mb-3 w-100">
                    <label for="participant_campus" class="col-form-label col-sm-3 justify-content-start">
                        Campus
                    </label>
                    <div class="col-sm-9">
                        {{ form_widget(form.campus) }}
                    </div>
                </div>

                <div class="form-group mb-3 w-100">
                    <label for="participant_campus" class="col-form-label col-sm-3 justify-content-start">
                        Photo
                    </label>
                    <div class="col-sm-9">
                        {{ form_widget(form.photo) }}
                    </div>
                </div>

                {{ form_widget(form._token) }}

                <div class="ml-auto mr-auto">
                    {{ form_widget(form.enregistrer) }}
                    <a type="button" class="btn btn-secondary" href="{{ path('sortie_get_list') }}">
                        Annuler
                    </a>
                </div>

                {{ form_end(form, {'render_rest': false}) }}

            {% else %}

                <div class="mt-5">
                    <p>Pseudo : {{ oParticipant.pseudo }}</p>
                    <p>Nom : {{ oParticipant.nom }}</p>
                    <p>Prénom : {{ oParticipant.prenom }}</p>
                    <p>Téléphone : {{ oParticipant.telephone }}</p>
                    <p>Email : {{ oParticipant.mail }}</p>
                    <p>Campus : {{ oParticipant.campus.nom }}</p>
                </div>

            {% endif %}
        </div>
    </div>

{% endblock %}
